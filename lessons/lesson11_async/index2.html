<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Title</title>
</head>
<body>

<script>

    // let promise = new Promise((resolve, reject) => {
    //     let x = 1
    //     setTimeout(() => {
    //         console.log(x);
    //         resolve(x);
    //     }, 1000);
    // })
    //     .then(x => {
    //         return new Promise((resolve, reject) => {
    //             setTimeout(() => {
    //                 x++;
    //                 console.log(x);
    //                 if (false) {
    //                     resolve(x);
    //                 } else {
    //                     reject('asdgadghdjash');
    //                 }
    //             }, 1500);
    //
    //         })
    //     })
    //     .then(value => {
    //         return new Promise((resolve, reject) => {
    //             setTimeout(() => {
    //                 value++;
    //                 console.log(value);
    //             }, 2000);
    //         })
    //     })
    //     .catch(reason => console.log(reason));


    // fetch('https://dummyjson.com/products/search?q=phone')
    //     .then(value => value.json())
    //     .then(phones => {
    //         console.log(phones);
    //     })
    //     .then(value => {
    //         return fetch('https://dummyjson.com/products/search?q=tv');
    //     })
    //     .then(value => value.json())
    //     .then(tvs => console.log(tvs))
    //     .then(value => fetch('https://dummyjson.com/products/search?q=laptop'))
    //     .then(value => value.json())
    //     .then(value => console.log(value));

    // let fetch1 = fetch('https://dummyjson.com/products/search?q=phone').then(value => value.json());
    // let fetch2 = fetch('https://dummyjson.com/products/search?q=tv').then(value => value.json());
    // let fetch3 = fetch('https://dummyjson.com/products/search?q=laptop').then(value => value.json())
    // let all = Promise.all([fetch1, fetch2, fetch3])
    // all.then(value => {
    //     console.log(value);
    //     let respon1 = value[0];
    //     let respon2 = value[1];
    //     let respon3 = value[2];
    //
    // });

    // function doFetch(url) {
    //     return fetch(url)
    //         .then(value => value.json())
    //         .then(value => value.products)
    // }
    //
    // doFetch('https://dummyjson.com/products/search?q=phone')
    //     .then(value => console.log(value));
    //
    // doFetch('https://dummyjson.com/products/search?q=laptop')
    //     .then(value => console.log(value));

    async function doAsyncFetch(url) {
        let response1 = await fetch(url).then(value => value.json());
        let response2 = await fetch(url).then(value => value.json());
        let response3 = await fetch(url).then(value => value.json());
        return response.products; // promise
    }

    doAsyncFetch('https://dummyjson.com/products/search?q=phone')
        .then(value => console.log(value));

</script>
</body>
</html>
